apiVersion: v1
kind: ConfigMap
metadata:
  name: kyverno-base-values
  namespace: security

data:
  values.yaml: |-

    # TODO: change this to "mode: ha" when the new version gets released
    replicaCount: 1

    # topologySpreadConstraints:
    #   - maxSkew: 1
    #     topologyKey: kubernetes.io/hostname
    #     whenUnsatisfiable: DoNotSchedule
    #     labelSelector:
    #       matchLabels:
    #         app.kubernetes.io/instance: kyverno

    extraArgs:
      - --autogenInternals=false
      - --clientRateLimitQPS=30
      - --clientRateLimitBurst=60

    # serviceMonitor:
    #   enabled: true

    resources:
      requests:
        cpu: 92m
        memory: 226M
      limits:
        memory: 285M
