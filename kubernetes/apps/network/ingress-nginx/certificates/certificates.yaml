---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: '${EXTERNAL_DOMAIN/./-}'
  namespace: network
spec:
  secretName: '${EXTERNAL_DOMAIN/./-}-tls'
  issuerRef:
    name: letsencrypt-production
    kind: ClusterIssuer
  commonName: '${EXTERNAL_DOMAIN}'
  dnsNames:
    - '${EXTERNAL_DOMAIN}'
    - '*.${EXTERNAL_DOMAIN}'
# ---
# apiVersion: cert-manager.io/v1
# kind: Certificate
# metadata:
#   name: '${WEBSITE_DOMAIN/./-}'
#   namespace: network
# spec:
#   secretName: '${WEBSITE_DOMAIN/./-}-tls'
#   issuerRef:
#     name: letsencrypt-production
#     kind: ClusterIssuer
#   commonName: '${WEBSITE_DOMAIN}'
#   dnsNames:
#     - '${WEBSITE_DOMAIN}'
#     - '*.${WEBSITE_DOMAIN}'
