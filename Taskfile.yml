---
version: "3"

vars:
  PROJECT_DIR:
    sh: git rev-parse --show-toplevel
  CLUSTER_DIR: "{{.PROJECT_DIR}}/kubernetes/cluster"
  TERRAFORM_DIR: "{{.PROJECT_DIR}}/terraform"
  POSTGRES_IP: '10.0.1.11'


includes:
  fx:
    dir: .taskfiles/Flux
    taskfile: .taskfiles/Flux
  bs: .taskfiles/bootstrap.yml
  so: .taskfiles/sops.yml
  ro:
    dir: .taskfiles/Rook
    taskfile: .taskfiles/Rook
  ta:
    dir: .taskfiles/Talos
    taskfile: .taskfiles/Talos
  es:
    dir: .taskfiles/ExternalSecrets
    taskfile: .taskfiles/ExternalSecrets
  vs:
    dir: .taskfiles/VolSync
    taskfile: .taskfiles/VolSync
  tf:
    dir: .taskfiles/Terraform
    taskfile: .taskfiles/Terraform
  cluster: .taskfiles/cluster.yml

tasks:
  default:
    silent: true
    cmds: ['task -l']
