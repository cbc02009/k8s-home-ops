---
version: "3"

vars:
  PROJECT_DIR:
    sh: git rev-parse --show-toplevel
  CLUSTER_DIR: "{{.PROJECT_DIR}}/kubernetes"
  TERRAFORM_DIR: "{{.PROJECT_DIR}}/terraform"
  POSTGRES_IP: '10.0.1.11'


includes:
  fx: .taskfiles/Flux/Tasks.yml
  bs: .taskfiles/bootstrap.yml
  pr: .taskfiles/PreCommit/Tasks.yml
  so: .taskfiles/sops.yml
  ro: .taskfiles/Rook/Tasks.yaml
  ta: .taskfiles/Talos/Tasks.yml
  es: .taskfiles/ExternalSecrets/Tasks.yml
  vs: .taskfiles/VolSync/Tasks.yml
  tf: .taskfiles/Terraform/Tasks.yml
  pg: .taskfiles/Postgres/Tasks.yml

tasks:
  default:
    silent: true
    cmds: ['task -l']
